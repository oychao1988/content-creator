# å†™ä½œ Agent (Content Creator)

åŸºäº LangGraph çš„æ™ºèƒ½å†™ä½œ Agentï¼Œæ”¯æŒé€‰é¢˜æœç´¢ã€å†…å®¹ç”Ÿæˆã€è´¨é‡æ£€æŸ¥å’Œé…å›¾ç”Ÿæˆï¼Œé‡‡ç”¨ PostgreSQL æ•°æ®æŒä¹…åŒ–ï¼Œæ”¯æŒåŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§æ‰§è¡Œæ¨¡å¼ã€‚é¡¹ç›®å·²æ‰©å±•ä¸ºæ”¯æŒå¤šå·¥ä½œæµæ¶æ„ï¼ŒåŒ…æ‹¬å†…å®¹åˆ›ä½œå’Œç¿»è¯‘å·¥ä½œæµã€‚

---

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ª AI é©±åŠ¨çš„å†…å®¹åˆ›ä½œç³»ç»Ÿï¼Œèƒ½å¤Ÿè‡ªåŠ¨å®Œæˆä»é€‰é¢˜æœç´¢ã€å†…å®¹åˆ›ä½œã€è´¨é‡æ£€æŸ¥åˆ°é…å›¾ç”Ÿæˆçš„å®Œæ•´æµç¨‹ã€‚

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- âœ… æ™ºèƒ½å†™ä½œï¼šåŸºäº DeepSeek API çš„é«˜è´¨é‡å†…å®¹ç”Ÿæˆ
- âœ… è´¨é‡æ£€æŸ¥ï¼šç¡¬è§„åˆ™ + LLM åŒå±‚è´¨é‡ä¿è¯
- âœ… é…å›¾ç”Ÿæˆï¼šè‡ªåŠ¨ç”ŸæˆåŒ¹é…æ–‡ç« çš„æ’å›¾
- âœ… å¤šç§æ¨¡å¼ï¼šåŒæ­¥ï¼ˆç«‹å³è¿”å›ï¼‰å’Œå¼‚æ­¥ï¼ˆåå°å¤„ç†ï¼‰
- âœ… é«˜å¹¶å‘ï¼šæ”¯æŒ 100 äººåŒæ—¶åœ¨çº¿ï¼Œæ—¥å¤„ç† 3000+ ä»»åŠ¡
- âœ… é«˜å¯ç”¨ï¼šå¤š Worker æ¶æ„ï¼Œè‡ªåŠ¨æ•…éšœæ¢å¤
- âœ… å¤šå·¥ä½œæµï¼šæ”¯æŒå†…å®¹åˆ›ä½œå’Œç¿»è¯‘å·¥ä½œæµï¼Œå¯æ‰©å±•
- âœ… æ’ä»¶åŒ–æ¶æ„ï¼šé€šè¿‡ WorkflowRegistry æ”¯æŒåŠ¨æ€æ·»åŠ æ–°å·¥ä½œæµ

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

å®Œæ•´æ–‡æ¡£è¯·è®¿é—®ï¼š**[ğŸ“– æ–‡æ¡£ä¸­å¿ƒ](./docs/README.md)**

### æ ¸å¿ƒæ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [ğŸš€ å¿«é€Ÿå¼€å§‹](./docs/quick-start.md) | 5 åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹æŒ‡å— |
| [ğŸ“– ç”¨æˆ·æ“ä½œæ‰‹å†Œ](./docs/user-guide.md) | å®Œæ•´çš„ç”¨æˆ·ä½¿ç”¨æŒ‡å— |
| [ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡](./docs/architecture-complete.md) | å®Œæ•´çš„ç³»ç»Ÿæ¶æ„ï¼ˆ5500+ è¡Œï¼‰ |
| [âš™ï¸ å·¥ä½œæµæ¶æ„](./docs/workflow-architecture.md) | LangGraph å·¥ä½œæµè¯¦è§£ |
| [ğŸ”Œ å·¥ä½œæµæ‰©å±•æ¶æ„](./docs/workflow-extension-design.md) | å¤šå·¥ä½œæµæ’ä»¶åŒ–æ¶æ„è®¾è®¡ |
| [ğŸŒ ç¿»è¯‘å·¥ä½œæµä½¿ç”¨](./docs/translation-workflow-guide.md) | ç¿»è¯‘å·¥ä½œæµè¯¦ç»†ä½¿ç”¨è¯´æ˜ |
| [âœ… è´¨é‡æ£€æŸ¥æ¶æ„](./docs/quality-check-architecture.md) | è´¨é‡æ£€æŸ¥ç³»ç»Ÿè®¾è®¡ |
| [ğŸ’¾ å­˜å‚¨æœºåˆ¶è¯´æ˜](./docs/storage-guide.md) | PostgreSQL æ•°æ®å­˜å‚¨ |

### æŠ€æœ¯å‚è€ƒ

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [BullMQ å¿«é€Ÿå‚è€ƒ](./docs/references/bullmq-quick-reference.md) | ä»»åŠ¡é˜Ÿåˆ—å¿«é€Ÿå…¥é—¨ |
| [ç›‘æ§ä¼˜åŒ–æŒ‡å—](./docs/references/monitoring-optimization-guide.md) | ç³»ç»Ÿç›‘æ§å’Œä¼˜åŒ– |
| [æ€§èƒ½ä¼˜åŒ–æŒ‡å—](./docs/references/performance-optimization-guide.md) | åº”ç”¨æ€§èƒ½è°ƒä¼˜ |

### å†å²æ–‡æ¡£

é¡¹ç›®å¼€å‘å†å²å·²å½’æ¡£åˆ°ï¼š[ğŸ“¦ docs/archive/](./docs/archive/)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 18+ LTS
- PostgreSQL 14+
- Redis 7+
- DeepSeek API Key
- Doubao API Keyï¼ˆå›¾ç‰‡ç”Ÿæˆï¼‰

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd content-creator
```

### 2. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example`ï¼ˆå¦‚æœå­˜åœ¨ï¼‰æˆ–åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=content_creator
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_password

# Redis
REDIS_URL=redis://:password@localhost:6379

# DeepSeek API
LLM_BASE_URL=https://api.deepseek.com
LLM_API_KEY=sk-your-api-key
LLM_MODEL_NAME=deepseek-chat

# Doubao API
ARK_API_KEY=your-api-key
```

### 4. éªŒè¯ç¯å¢ƒ

```bash
pnpm run verify-env
```

é¢„æœŸè¾“å‡ºï¼š
```
âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡ (4/4)
ğŸ‰ ç¯å¢ƒå‡†å¤‡å®Œæˆï¼Œå¯ä»¥å¼€å§‹å¼€å‘ï¼
```

### 5. æ•°æ®åº“è¿ç§»

```bash
pnpm run db:migrate
```

### 6. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
pnpm run dev
```

---

## ğŸ“– å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
content-creator/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ domain/              # é¢†åŸŸå±‚ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰
â”‚   â”œâ”€â”€ application/         # åº”ç”¨å±‚ï¼ˆç”¨ä¾‹ç¼–æ’ï¼‰
â”‚   â”œâ”€â”€ infrastructure/      # åŸºç¡€è®¾æ–½å±‚
â”‚   â”œâ”€â”€ services/            # æœåŠ¡å±‚ï¼ˆå¤–éƒ¨é›†æˆï¼‰
â”‚   â””â”€â”€ presentation/        # è¡¨ç°å±‚ï¼ˆCLI/APIï¼‰
â”œâ”€â”€ tests/                   # æµ‹è¯•
â”œâ”€â”€ migrations/              # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ scripts/                 # å·¥å…·è„šæœ¬
â””â”€â”€ docs/                    # æ–‡æ¡£
```

### å¯ç”¨å‘½ä»¤

```bash
# å¼€å‘
pnpm run dev          # å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆçƒ­é‡è½½ï¼‰
pnpm run build        # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm run start        # è¿è¡Œç”Ÿäº§ç‰ˆæœ¬

# æµ‹è¯•
pnpm run test         # è¿è¡Œæ‰€æœ‰æµ‹è¯•
pnpm run test:unit    # è¿è¡Œå•å…ƒæµ‹è¯•
pnpm run test:integration # è¿è¡Œé›†æˆæµ‹è¯•
pnpm run test:performance # è¿è¡Œæ€§èƒ½æµ‹è¯•
pnpm run test:ui      # æµ‹è¯• UI
pnpm run test:coverage # æµ‹è¯•è¦†ç›–ç‡
pnpm run test:watch   # æµ‹è¯•ç›‘å¬æ¨¡å¼

# ä»£ç è´¨é‡
pnpm run lint         # ESLint æ£€æŸ¥
pnpm run format       # Prettier æ ¼å¼åŒ–

# æ•°æ®åº“
pnpm run db:migrate   # è¿è¡Œè¿ç§»
pnpm run db:rollback  # å›æ»šè¿ç§»
pnpm run db:status    # æ£€æŸ¥è¿ç§»çŠ¶æ€
pnpm run db:seed      # å¡«å……æµ‹è¯•æ•°æ®

# Worker å’Œç›‘æ§
pnpm run worker       # å¯åŠ¨ Worker
pnpm run monitor      # å¯åŠ¨ç›‘æ§é¢æ¿
pnpm run scheduler    # å¯åŠ¨è°ƒåº¦å™¨

# CLI ä½¿ç”¨
pnpm run cli          # æ˜¾ç¤º CLI å¸®åŠ©
pnpm run cli:create   # åˆ›å»ºä»»åŠ¡
pnpm run cli:list     # åˆ—å‡ºä»»åŠ¡
pnpm run cli:retry    # é‡è¯•ä»»åŠ¡
pnpm run cli:status   # ä»»åŠ¡çŠ¶æ€
pnpm run cli:result   # ä»»åŠ¡ç»“æœ
pnpm run cli:cancel   # å–æ¶ˆä»»åŠ¡
pnpm run cli:workflow # å·¥ä½œæµç®¡ç†å‘½ä»¤

# ç¤ºä¾‹è¿è¡Œ
pnpm run example:ts   # è¿è¡Œ TypeScript ç¤ºä¾‹
pnpm run example:js   # è¿è¡Œ JavaScript ç¤ºä¾‹
pnpm run example:py   # è¿è¡Œ Python ç¤ºä¾‹

# å·¥å…·
pnpm run verify-env   # éªŒè¯ç¯å¢ƒé…ç½®
```

---

## ğŸ—ï¸ å®æ–½è·¯çº¿å›¾

é¡¹ç›®åˆ†ä¸º 4 ä¸ªé˜¶æ®µæ¸è¿›å¼å¼€å‘ï¼Œæ‰€æœ‰é˜¶æ®µå·²å½’æ¡£åˆ° [docs/archive/phases/](./docs/archive/phases/)

### é˜¶æ®µ 0ï¼šç¯å¢ƒå‡†å¤‡ä¸é¡¹ç›®åˆå§‹åŒ– âœ…
- å®‰è£…ä¾èµ–å’Œå·¥å…·
- é…ç½® TypeScript
- éªŒè¯æ‰€æœ‰æœåŠ¡è¿æ¥

### é˜¶æ®µ 1ï¼šæ ¸å¿ƒæ•°æ®å±‚ä¸åŸºç¡€æ¶æ„ âœ…
- é¢†åŸŸæ¨¡å‹å®šä¹‰
- æ•°æ®åº“è¿ç§»
- Repository å®ç°
- æ•°æ®è®¿é—®æµ‹è¯•

### é˜¶æ®µ 2ï¼šLangGraph å·¥ä½œæµä¸æœåŠ¡é›†æˆ âœ…
- LLM Service å®ç°
- LangGraph å·¥ä½œæµ
- åŒæ­¥æ‰§è¡Œå™¨
- CLI æ¥å£

### é˜¶æ®µ 3ï¼šå¼‚æ­¥ä»»åŠ¡ä¸ Worker ç³»ç»Ÿ âœ…
- BullMQ ä»»åŠ¡é˜Ÿåˆ—
- TaskWorker å®ç°
- TaskScheduler å®ç°
- Bull Board ç›‘æ§é¢æ¿

### é˜¶æ®µ 4ï¼šè´¨é‡æ£€æŸ¥ä¸ç›‘æ§ä¼˜åŒ– âœ…
- è´¨é‡æ£€æŸ¥æœåŠ¡
- ç›‘æ§ä¸æ—¥å¿—
- æ€§èƒ½ä¼˜åŒ–
- å®‰å…¨åŠ å›º

### é˜¶æ®µ 5ï¼šå·¥ä½œæµæ‰©å±•æ¶æ„ âœ…
- å¤šå·¥ä½œæµæ¶æ„è®¾è®¡
- WorkflowRegistry å®ç°
- ç¿»è¯‘å·¥ä½œæµæ”¯æŒ
- æ’ä»¶åŒ–æ¶æ„
- å‘åå…¼å®¹æ€§ä¿éšœ

**è¯¦ç»†å¼€å‘å†å²**ï¼šæŸ¥çœ‹ [docs/archive/phases/](./docs/archive/phases/)

---

## ğŸ“Š æŠ€æœ¯æ ˆ

| ç±»åˆ« | æŠ€æœ¯ |
|------|------|
| **è¿è¡Œæ—¶** | Node.js 18+ |
| **è¯­è¨€** | TypeScript 5.0+ |
| **å·¥ä½œæµå¼•æ“** | LangGraph |
| **æ•°æ®åº“** | PostgreSQL 14+ |
| **ç¼“å­˜/é˜Ÿåˆ—** | Redis 7+ + Bull |
| **LLM** | DeepSeek API |
| **å›¾ç‰‡ç”Ÿæˆ** | Doubao API |
| **æµ‹è¯•** | Vitest |
| **æ—¥å¿—** | Winston |
| **ç›‘æ§** | Sentry + Prometheus |

---

## ğŸ¯ è®¾è®¡ç›®æ ‡

### åŠŸèƒ½ç›®æ ‡
- æ”¯æŒå†…å®¹ç±»å‹ï¼šæŠ€æœ¯æ–‡ç« ã€åšå®¢æ–‡ç« ã€è¥é”€æ–‡æ¡ˆï¼ˆå¯æ‰©å±•ï¼‰
- æ ¸å¿ƒèƒ½åŠ›ï¼šé€‰é¢˜æœç´¢ã€å†…å®¹ç”Ÿæˆã€è´¨é‡æ£€æŸ¥ã€é…å›¾ç”Ÿæˆ
- æ‰§è¡Œæ¨¡å¼ï¼šåŒæ­¥ï¼ˆç«‹å³è¿”å›ç»“æœï¼‰ã€å¼‚æ­¥ï¼ˆåå°å¤„ç†ï¼‰

### æ€§èƒ½ç›®æ ‡
- å•ä»»åŠ¡ç«¯åˆ°ç«¯å»¶è¿Ÿï¼š< 5 åˆ†é’Ÿ
- æ”¯æŒå¹¶å‘ç”¨æˆ·æ•°ï¼š100 äººåŒæ—¶åœ¨çº¿
- æ”¯æŒå¹¶å‘ä»»åŠ¡æ•°ï¼š20 ä¸ªä»»åŠ¡åŒæ—¶æ‰§è¡Œï¼ˆå³°å€¼ï¼‰
- æ—¥ä»»åŠ¡å¤„ç†èƒ½åŠ›ï¼š500-3000 ä¸ªä»»åŠ¡/å¤©

### å¯ç”¨æ€§ç›®æ ‡
- ç³»ç»Ÿå¯ç”¨æ€§ï¼š99.9%ï¼ˆæ¯æœˆåœæœºæ—¶é—´ < 43 åˆ†é’Ÿï¼‰
- Worker æ•…éšœè‡ªåŠ¨æ¢å¤
- æ•°æ®åº“ä¸»ä»å¤åˆ¶ï¼Œæ•…éšœè‡ªåŠ¨åˆ‡æ¢

---

## ğŸ”’ å®‰å…¨è®¾è®¡

- âœ… API Key åŠ å¯†å­˜å‚¨ï¼ˆAWS KMSï¼‰
- âœ… ç¯å¢ƒå˜é‡éš”ç¦»
- âœ… å†…å®¹å®¡æ ¸é›†æˆï¼ˆé˜¿é‡Œäº‘/è…¾è®¯äº‘ï¼‰
- âœ… Token ç›‘æ§ä¸é¢„ç®—å‘Šè­¦
- âœ… é€Ÿç‡é™åˆ¶ï¼ˆé˜²æ­¢æ»¥ç”¨ï¼‰

---

## ğŸ“ˆ ç›‘æ§ä¸å¯è§‚æµ‹æ€§

- **æ—¥å¿—**ï¼šWinston ç»“æ„åŒ–æ—¥å¿—
- **é”™è¯¯è¿½è¸ª**ï¼šSentry é›†æˆ
- **æŒ‡æ ‡ç›‘æ§**ï¼šPrometheus + Grafana
- **é˜Ÿåˆ—ç›‘æ§**ï¼šBull Board UI
- **Token ç›‘æ§**ï¼šå®æ—¶ç”¨é‡ç»Ÿè®¡

---

## ğŸ’° æˆæœ¬é¢„ä¼°

åŸºäºè®¾è®¡ç›®æ ‡çš„å®¹é‡ï¼ˆ3000 ä»»åŠ¡/å¤©ï¼‰ï¼š

| é¡¹ç›® | æœˆåº¦æˆæœ¬ |
|------|----------|
| DeepSeek APIï¼ˆLLMï¼‰ | Â¥300-500 |
| Doubao APIï¼ˆå›¾ç‰‡ç”Ÿæˆï¼‰ | Â¥50-100 |
| å†…å®¹å®¡æ ¸ | Â¥7 |
| PostgreSQLï¼ˆäº‘æ•°æ®åº“ï¼‰ | Â¥100-200 |
| Redisï¼ˆäº‘ç¼“å­˜ï¼‰ | Â¥50-100 |
| å¯¹è±¡å­˜å‚¨ï¼ˆS3/OSSï¼‰ | Â¥10-20 |
| ç›‘æ§æœåŠ¡ï¼ˆSentryï¼‰ | å…è´¹é¢åº¦ |
| **æ€»è®¡** | **Â¥500-900/æœˆ** |

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/your-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add some feature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/your-feature`
5. æäº¤ Pull Request

---

## ğŸ“ è®¸å¯è¯

MIT License

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue æˆ– Pull Requestã€‚

---

**æœ€åæ›´æ–°**ï¼š2026-01-22
**é¡¹ç›®çŠ¶æ€**ï¼šâœ… æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆ
